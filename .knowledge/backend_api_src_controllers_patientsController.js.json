{"is_source_file": true, "format": "JavaScript", "description": "This file defines the PatientsController class for handling HTTP requests related to patients in a healthcare appointment management system. It includes methods for creating, listing, retrieving, updating, and deleting patient records, and interacts with the PatientService for data operations.", "external_files": ["../services/patientService"], "external_methods": ["PatientService.createPatient", "PatientService.listPatients", "PatientService.getPatient", "PatientService.updatePatient", "PatientService.deletePatient"], "published": ["new PatientsController()"], "classes": [{"name": "PatientsController", "description": "Controller class providing REST API endpoints for managing patient data, including create, list, get, update, and delete operations."}], "methods": [{"name": "create(req, res)", "description": "Handles POST /patients requests to create a new patient record. Validates input data and calls the PatientService to add the patient.", "scope": "PatientsController", "scopeKind": "class"}, {"name": "list(req, res)", "description": "Handles GET /patients requests to retrieve a list of patients, possibly filtered by query parameters.", "scope": "PatientsController", "scopeKind": "class"}, {"name": "get", "description": "Handles GET /patients/:id requests to retrieve a specific patient by ID."}, {"name": "update", "description": "Handles PUT /patients/:id requests to update existing patient information."}, {"name": "delete", "description": "Handles DELETE /patients/:id requests to remove a patient record."}], "calls": ["PatientService.createPatient", "PatientService.listPatients", "PatientService.getPatient", "PatientService.updatePatient", "PatientService.deletePatient"], "search-terms": ["patients", "PatientsController", "patientService", "CRUD", "REST API", "healthcare"], "state": 2, "file_id": 27, "knowledge_revision": 55, "git_revision": "", "ctags": [{"_type": "tag", "name": "PatientService", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/patientsController.js", "pattern": "/^const PatientService = require('..\\/services\\/patientService');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "PatientsController", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/patientsController.js", "pattern": "/^class PatientsController {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/patientsController.js", "pattern": "/^  async create(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "PatientsController", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/patientsController.js", "pattern": "/^      const data = req.body || {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/patientsController.js", "pattern": "/^module.exports = new PatientsController();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/patientsController.js", "pattern": "/^      const id = Number(req.params.id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/patientsController.js", "pattern": "/^      const id = Number(req.params.id);$/", "language": "JavaScript", "kind": "field", "scope": "PatientsController", "scopeKind": "class"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/patientsController.js", "pattern": "/^  async list(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "PatientsController", "scopeKind": "class"}, {"_type": "tag", "name": "patient", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/patientsController.js", "pattern": "/^      const patient = await PatientService.getPatient(id);$/", "language": "JavaScript", "kind": "field", "scope": "PatientsController", "scopeKind": "class"}, {"_type": "tag", "name": "patient", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/patientsController.js", "pattern": "/^      const patient = await PatientService.updatePatient(id, data);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "patient", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/patientsController.js", "pattern": "/^      if (!patient) return res.status(404).json({ status: 'error', message: 'Not found' });$/", "language": "JavaScript", "kind": "field", "scope": "PatientsController", "scopeKind": "class"}, {"_type": "tag", "name": "req", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/patientsController.js", "pattern": "/^  async get(req, res) {$/", "language": "JavaScript", "kind": "field", "scope": "PatientsController", "scopeKind": "class"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/patientsController.js", "pattern": "/^      if (!patient) return res.status(404).json({ status: 'error', message: 'Not found' });$/", "language": "JavaScript", "kind": "field", "scope": "PatientsController", "scopeKind": "class"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/patientsController.js", "pattern": "/^      return res.status(200).json({ status: 'ok', data: patient });$/", "language": "JavaScript", "kind": "field", "scope": "PatientsController", "scopeKind": "class"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/patientsController.js", "pattern": "/^  async get(req, res) {$/", "language": "JavaScript", "kind": "field", "scope": "PatientsController", "scopeKind": "class"}], "hash": "98492e420bacd671521e6b61fba9c770", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/src/controllers/patientsController.js", "fields": [{"name": "module.exports = new PatientsController();", "scope": "module", "scopeKind": "class", "description": "unavailable"}, {"name": "const id = Number(req.params.id);", "scope": "PatientsController", "scopeKind": "class", "description": "unavailable"}, {"name": "const patient = await PatientService.getPatient(id);", "scope": "PatientsController", "scopeKind": "class", "description": "unavailable"}, {"name": "if (!patient) return res.status(404).json({ status: 'error', message: 'Not found' });", "scope": "PatientsController", "scopeKind": "class", "description": "unavailable"}, {"name": "async get(req, res) {", "scope": "PatientsController", "scopeKind": "class", "description": "unavailable"}, {"name": "return res.status(200).json({ status: 'ok', data: patient });", "scope": "PatientsController", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"55": ""}]}