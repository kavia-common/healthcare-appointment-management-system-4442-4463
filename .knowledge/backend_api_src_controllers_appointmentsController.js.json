{"is_source_file": true, "format": "JavaScript", "description": "This file defines the AppointmentsController class, which handles HTTP requests related to appointment management in a healthcare system. It provides methods for creating, listing, retrieving, updating, and deleting appointments, acting as a bridge between HTTP endpoints and underlying appointment services.", "external_files": ["../services/appointmentService"], "external_methods": ["AppointmentService.createAppointment", "AppointmentService.listAppointments", "AppointmentService.getAppointment", "AppointmentService.updateAppointment", "AppointmentService.deleteAppointment"], "published": ["new AppointmentsController()"], "classes": [{"name": "AppointmentsController", "description": "Controller class managing appointment-related API endpoints, providing asynchronous methods for CRUD operations."}], "methods": [{"name": "create(req, res)", "description": "Handles POST /appointments, creates a new appointment using provided data.", "scope": "AppointmentsController", "scopeKind": "class"}, {"name": "list(req, res)", "description": "Handles GET /appointments, lists appointments with optional filters.", "scope": "AppointmentsController", "scopeKind": "class"}, {"name": "get", "description": "Handles GET /appointments/:id, retrieves appointment details by ID."}, {"name": "update", "description": "Handles PUT /appointments/:id, updates an existing appointment."}, {"name": "delete", "description": "Handles DELETE /appointments/:id, deletes an appointment by ID."}], "calls": ["AppointmentService.createAppointment", "AppointmentService.listAppointments", "AppointmentService.getAppointment", "AppointmentService.updateAppointment", "AppointmentService.deleteAppointment"], "search-terms": ["AppointmentsController", "appointmentService", "createAppointment", "listAppointments", "getAppointment", "updateAppointment", "deleteAppointment"], "state": 2, "file_id": 29, "knowledge_revision": 59, "git_revision": "", "ctags": [{"_type": "tag", "name": "AppointmentService", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/appointmentsController.js", "pattern": "/^const AppointmentService = require('..\\/services\\/appointmentService');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "AppointmentsController", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/appointmentsController.js", "pattern": "/^class AppointmentsController {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "appt", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/appointmentsController.js", "pattern": "/^      const appt = await AppointmentService.getAppointment(id);$/", "language": "JavaScript", "kind": "field", "scope": "AppointmentsController", "scopeKind": "class"}, {"_type": "tag", "name": "appt", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/appointmentsController.js", "pattern": "/^      const appt = await AppointmentService.updateAppointment(id, req.body || {});$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "appt", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/appointmentsController.js", "pattern": "/^      if (!appt) return res.status(404).json({ status: 'error', message: 'Not found' });$/", "language": "JavaScript", "kind": "field", "scope": "AppointmentsController", "scopeKind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/appointmentsController.js", "pattern": "/^  async create(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "AppointmentsController", "scopeKind": "class"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/appointmentsController.js", "pattern": "/^module.exports = new AppointmentsController();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/appointmentsController.js", "pattern": "/^      const id = Number(req.params.id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/appointmentsController.js", "pattern": "/^      const id = Number(req.params.id);$/", "language": "JavaScript", "kind": "field", "scope": "AppointmentsController", "scopeKind": "class"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/appointmentsController.js", "pattern": "/^  async list(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "AppointmentsController", "scopeKind": "class"}, {"_type": "tag", "name": "req", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/appointmentsController.js", "pattern": "/^  async get(req, res) {$/", "language": "JavaScript", "kind": "field", "scope": "AppointmentsController", "scopeKind": "class"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/appointmentsController.js", "pattern": "/^      if (!appt) return res.status(404).json({ status: 'error', message: 'Not found' });$/", "language": "JavaScript", "kind": "field", "scope": "AppointmentsController", "scopeKind": "class"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/appointmentsController.js", "pattern": "/^      return res.status(200).json({ status: 'ok', data: appt });$/", "language": "JavaScript", "kind": "field", "scope": "AppointmentsController", "scopeKind": "class"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/healthcare-appointment-management-system-4442-4463/backend_api/src/controllers/appointmentsController.js", "pattern": "/^  async get(req, res) {$/", "language": "JavaScript", "kind": "field", "scope": "AppointmentsController", "scopeKind": "class"}], "hash": "523e254106945aaf6df6b4da032991bc", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/src/controllers/appointmentsController.js", "fields": [{"name": "const appt = await AppointmentService.getAppointment(id);", "scope": "AppointmentsController", "scopeKind": "class", "description": "unavailable"}, {"name": "if (!appt) return res.status(404).json({ status: 'error', message: 'Not found' });", "scope": "AppointmentsController", "scopeKind": "class", "description": "unavailable"}, {"name": "module.exports = new AppointmentsController();", "scope": "module", "scopeKind": "class", "description": "unavailable"}, {"name": "const id = Number(req.params.id);", "scope": "AppointmentsController", "scopeKind": "class", "description": "unavailable"}, {"name": "async get(req, res) {", "scope": "AppointmentsController", "scopeKind": "class", "description": "unavailable"}, {"name": "return res.status(200).json({ status: 'ok', data: appt });", "scope": "AppointmentsController", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"59": ""}]}